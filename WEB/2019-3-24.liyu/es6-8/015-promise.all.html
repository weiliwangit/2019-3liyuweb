<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>015-promise.all.html</title>
</head>
<body>
	
</body>
<script type="text/javascript">
	const getImagePromise=(src)=>new Promise((resolve,reject)=>{
		const img=new Image();
		img.onload=()=>{
			resolve(src+ " 加载成功")
		}
		img.onerror=()=>{
			reject(src+ " 加载失败")
		}
		img.src=src;

	})
	const promise=["./img/001.jpg","./img/001.jpg","./img/001.jpg","./img/001.jpg"].map(src=>getImagePromise(src))
	// console.log(promise)
	const p=Promise.all(promise)
	p
	.then(data=>{
		console.log(data)
	})
</script>
</html>